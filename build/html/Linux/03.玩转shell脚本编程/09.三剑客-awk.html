<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.9. 9 三剑客之awk &mdash; 运维开发修炼之路</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3.10. shell技巧与杂项" href="10.shell%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9D%82%E9%A1%B9.html" />
    <link rel="prev" title="3.8. 8 三剑客之sed" href="08.%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> 小健_Linux-shell-Devops_Blog
            <img src="../../_static/devops_photo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../DevOps/index.html">DevOps和自动化运维实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Github/index.html">Github入门到实践</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Jenkins/index.html">Jenkins持续化集成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../KVM/index.html">KVM实践</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Linux</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../01.%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%92%8C%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/index.html">1. 命令行和操作系统</a></li>
<li class="toctree-l2"><a class="reference internal" href="../02.Linux%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9E%B6%E8%AE%BE/index.html">2. Linux服务器架设</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">3. 玩转shell脚本编程</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="01.%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html">3.1. 1 基础知识</a></li>
<li class="toctree-l3"><a class="reference internal" href="02.%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%8E%E6%95%B0%E7%BB%84.html">3.2. 2 字符串与数组</a></li>
<li class="toctree-l3"><a class="reference internal" href="03.%E8%BF%90%E7%AE%97%E7%AC%A6.html">3.3. 3 运算符</a></li>
<li class="toctree-l3"><a class="reference internal" href="04.%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6.html">3.4. 4 流程控制</a></li>
<li class="toctree-l3"><a class="reference internal" href="05.%E5%87%BD%E6%95%B0.html">3.5. 5 函数</a></li>
<li class="toctree-l3"><a class="reference internal" href="06.%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html">3.6. 6 正则表达式</a></li>
<li class="toctree-l3"><a class="reference internal" href="07.%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bgrep.html">3.7. 7 三剑客之grep</a></li>
<li class="toctree-l3"><a class="reference internal" href="08.%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed.html">3.8. 8 三剑客之sed</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.9. 9 三剑客之awk</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">3.9.1. 概念</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">3.9.2. awk输出</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">3.9.3. awk变量</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">3.9.4. 操作符</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pattern">3.9.5. Pattern</a></li>
<li class="toctree-l4"><a class="reference internal" href="#action">3.9.6. 常用action</a></li>
<li class="toctree-l4"><a class="reference internal" href="#array">3.9.7. array</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">3.9.8. 函数</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">3.9.9. awk判断</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">3.9.10. awk循环</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">3.9.11. awk练习题</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="10.shell%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9D%82%E9%A1%B9.html">3.10. shell技巧与杂项</a></li>
<li class="toctree-l3"><a class="reference internal" href="11.xagrs%E4%BD%BF%E7%94%A8.html">3.11. xagrs使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="12.%E6%94%B6%E9%9B%86%E7%9A%84%E4%B8%80%E4%BA%9Bshell%E8%84%9A%E6%9C%AC.html">3.12. 收集的一些shell脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="13.%E8%87%AA%E5%8A%A8%E5%AE%89%E8%A3%85zabbix%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%84%9A%E6%9C%AC.html">3.13. 自动化安装zabbix</a></li>
<li class="toctree-l3"><a class="reference internal" href="14.%E8%87%AA%E5%8A%A8%E5%8C%96%E5%AE%89%E8%A3%85cacti%E8%84%9A%E6%9C%AC.html">3.14. 自动化安装cacti服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="15.%E8%87%AA%E5%8A%A8%E5%AE%89%E8%A3%85MongoDB%E8%84%9A%E6%9C%AC.html">3.15. 自动化安装MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="16.%E5%A4%87%E4%BB%BDMongoDB%E8%84%9A%E6%9C%AC.html">3.16. 备份MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="17.%E8%87%AA%E5%8A%A8%E5%AE%89%E8%A3%85memcached%E8%84%9A%E6%9C%AC.html">3.17. 自动安装memcached</a></li>
<li class="toctree-l3"><a class="reference internal" href="18.system%E6%A3%80%E6%B5%8B%E8%84%9A%E6%9C%AC.html">3.18. 系统各项内容检测check_os</a></li>
<li class="toctree-l3"><a class="reference internal" href="19.%E5%AE%89%E8%A3%85tomcat%E8%84%9A%E6%9C%AC.html">3.19. 安装tomcat脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="20.install_zookeeper%E8%84%9A%E6%9C%AC.html">3.20. install_zookeeper脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="21.install_elasticserch%E8%84%9A%E6%9C%AC.html">3.21. install_elasticserch脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="22.%E8%87%AA%E5%8A%A8Autoinstall_ELK_V1.3.html">3.22. 自动Autoinstall_ELK_V1.3脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="23.install_vsftpd%E8%84%9A%E6%9C%AC.html">3.23. install_vsftpd_or_nfs脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="24.install_mysql5.7.html">3.24. install_mysql5.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="25.Linux%E4%B8%8B%E4%BB%A5%E7%A7%92%E4%B8%BA%E5%8D%95%E4%BD%8D%E6%89%A7%E8%A1%8C%E8%84%9A%E6%9C%AC.html">3.25. Linux下以秒为单位执行脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="26.%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6shell%E8%84%9A%E6%9C%AC.html">3.26. 备份文件shell脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="27.monitor_Linux%E7%B3%BB%E7%BB%9F%E6%80%A7%E8%83%BD.html">3.27. monitor_Linux系统性能</a></li>
<li class="toctree-l3"><a class="reference internal" href="28.%E4%BF%AE%E6%94%B9IP_%E4%B8%BB%E6%9C%BA%E5%90%8D_%E7%BD%91%E5%8D%A1%E4%BF%A1%E6%81%AF%E8%84%9A%E6%9C%AC.html">3.28. 修改IP_主机名_网卡信息脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="29.%E6%A3%80%E6%9F%A5%E6%81%B6%E6%84%8FIP%E7%99%BB%E5%BD%95%EF%BC%8C%E6%8B%92%E7%BB%9DSSH.html">3.29. 检查恶意IP登录，拒绝SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="30.%E6%95%B0%E6%8D%AE%E5%BA%93%E5%A4%87%E4%BB%BD.html">3.30. 数据库备份</a></li>
<li class="toctree-l3"><a class="reference internal" href="31.Centos6%E5%BC%80%E6%9C%BA%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html">3.31. Centos6x开机性能优化</a></li>
<li class="toctree-l3"><a class="reference internal" href="32.%E7%99%BE%E5%AE%9D%E7%AE%B1%E8%84%9A%E6%9C%AC.html">3.32. 百宝箱脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="33.deploy_mongo.html">3.33. 使用python脚本安装MongoDB</a></li>
<li class="toctree-l3"><a class="reference internal" href="34.python%E5%AE%9E%E7%8E%B0%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F.html">3.34. python实现端口扫描</a></li>
<li class="toctree-l3"><a class="reference internal" href="35.python%E6%A3%80%E6%B5%8Bip%E5%AD%98%E6%B4%BB%E7%8A%B6%E6%80%81.html">3.35. python检测ip存活状态</a></li>
<li class="toctree-l3"><a class="reference internal" href="36.k8s_deploy%E8%84%9A%E6%9C%AC.html">3.36. k8s_deploy脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="37.example%28%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%84%E7%90%86%29.html">3.37. example(字符串处理)</a></li>
<li class="toctree-l3"><a class="reference internal" href="38.%E7%94%A8Python%E5%AE%9E%E7%8E%B0%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BDMongodb%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%B9%B6%E4%B8%8A%E4%BC%A0%E5%88%B0FTP%E6%9C%8D%E5%8A%A1%E5%99%A8.html">3.38. 用Python实现定时备份Mongodb数据，并上传到FTP服务器</a></li>
<li class="toctree-l3"><a class="reference internal" href="39.Nginx%E6%97%A5%E5%BF%97%E5%88%87%E5%89%B2%E8%84%9A%E6%9C%AC.html">3.39. Nginx日志切割脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="40.%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85Docker%E8%84%9A%E6%9C%AC.html">3.40. 一键安装docker脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="41.shell%E5%AE%9E%E7%8E%B0%E5%A4%9A%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E8%84%9A%E6%9C%AC.html">3.41. shell实现多并发控制</a></li>
<li class="toctree-l3"><a class="reference internal" href="42.%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B.html">3.42. 判断文件类型</a></li>
<li class="toctree-l3"><a class="reference internal" href="43.%E7%94%A8if%E8%AF%AD%E5%8F%A5%E7%BC%96%E5%86%99%E9%80%89%E6%8B%A9%E8%8F%9C%E5%8D%95.html">3.43. 用if语句编写选择菜单</a></li>
<li class="toctree-l3"><a class="reference internal" href="44.%E4%BD%BF%E7%94%A8while%E8%AF%AD%E5%8F%A5%E7%BC%96%E5%86%99%E9%80%89%E6%8B%A9%E8%8F%9C%E5%8D%95.html">3.44. 使用while语句编写选择菜单</a></li>
<li class="toctree-l3"><a class="reference internal" href="45.%E4%BD%BF%E7%94%A8until%E7%BC%96%E5%86%99%E9%80%89%E6%8B%A9%E8%8F%9C%E5%8D%95.html">3.45. 使用until编写选择菜单</a></li>
<li class="toctree-l3"><a class="reference internal" href="46.%E7%9B%AE%E5%BD%95%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD.html">3.46. 目录定时备份</a></li>
<li class="toctree-l3"><a class="reference internal" href="47.%E8%BF%9C%E7%A8%8B%E6%93%8D%E4%BD%9Cftp%E8%BF%9B%E8%A1%8C%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD.html">3.47. 远程操作ftp进行上传和下载</a></li>
<li class="toctree-l3"><a class="reference internal" href="48.%E6%89%B9%E9%87%8F%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E8%84%9A%E6%9C%AC.html">3.48. 批量创建用户脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="49.Centos%E5%8D%87%E7%BA%A7%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC%28%E9%99%84%E5%B8%A6%E5%8D%87%E7%BA%A7%E8%84%9A%E6%9C%AC%29.html">3.49. Centos升级内核版本(附带升级脚本)</a></li>
<li class="toctree-l3"><a class="reference internal" href="50.CPU%E7%9B%91%E6%8E%A7%E8%84%9A%E6%9C%AC.html">3.50. CPU监控脚本</a></li>
<li class="toctree-l3"><a class="reference internal" href="51.%E6%A3%80%E6%B5%8B%E5%87%BD%E6%95%B0%E6%89%A7%E8%A1%8C%E6%98%AF%E5%90%A6%E8%B6%85%E6%97%B6.html">3.51. 检测函数执行是否超时</a></li>
<li class="toctree-l3"><a class="reference internal" href="52.%E8%80%81%E7%94%B7%E5%AD%A9Shell%E7%BC%96%E7%A8%8B%E5%AE%9E%E6%88%98.html">3.52. 老男孩Shell编程实战</a></li>
<li class="toctree-l3"><a class="reference internal" href="53.%E5%BF%AB%E6%8D%B7%E5%AE%89%E8%A3%85%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%ACPython.html">3.53. 快捷安装不同版本Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="54.%E5%B8%B8%E7%94%A8shell%E8%84%9A%E6%9C%AC%E5%A4%A7%E5%85%A8.html">3.54. 常用shell脚本大全</a></li>
<li class="toctree-l3"><a class="reference internal" href="55.%E7%BC%96%E5%86%99Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html">3.55. 编写Shell脚本的最佳实践</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../04.%E7%8E%A9%E8%BD%AC%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88mysql%E3%80%81Redis%EF%BC%89/index.html">4. 玩转数据库(mysql、Redis)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05.Nginx%E5%AD%A6%E4%B9%A0/index.html">5. Nginx学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06.LAMP%E3%80%81LNMP%E5%AD%A6%E4%B9%A0/index.html">6. LNMP、LAMP学习</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07.Zabbix%E7%9B%91%E6%8E%A7%E4%BC%81%E4%B8%9A%E5%AE%9E%E6%88%98/index.html">7. Zabbix监控企业实战</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08.Linux%E6%9E%84%E5%BB%BA%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84/index.html">8. 构建Linux高可用架构</a></li>
<li class="toctree-l2"><a class="reference internal" href="../09.Zabbix3.0%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/index.html">9. Zabbix3.0入门到精通</a></li>
<li class="toctree-l2"><a class="reference internal" href="../10.%E5%BF%AB%E9%80%9F%E9%98%85%E8%AF%BBLinux%E5%85%A5%E9%97%A8-%E9%98%BF%E9%93%ADLinux/index.html">10. 快速阅读Linux入门-阿铭Linux</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Mysql/index.html">Mysql王者之路</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../other/index.html">Other</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Network_route_switch/index.html">Network_route_switch</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">小健_Linux-shell-Devops_Blog</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Linux</a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">3. </span>玩转shell脚本编程</a> &raquo;</li>
      <li><span class="section-number">3.9. </span>9 三剑客之awk</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/Linux/03.玩转shell脚本编程/09.三剑客-awk.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#awk" id="id10">9 三剑客之awk</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id11">概念</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id12">awk输出</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id13">awk变量</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id14">操作符</a></p></li>
<li><p><a class="reference internal" href="#pattern" id="id15">Pattern</a></p></li>
<li><p><a class="reference internal" href="#action" id="id16">常用action</a></p>
<ul>
<li><p><a class="reference internal" href="#id5" id="id17">控制语句</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#array" id="id18">array</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id19">函数</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id20">awk判断</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id21">awk循环</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id22">awk练习题</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="awk">
<h1><a class="toc-backref" href="#id10"><span class="section-number">3.9. </span>9 三剑客之awk</a><a class="headerlink" href="#awk" title="Permalink to this headline">¶</a></h1>
<section id="id1">
<h2><a class="toc-backref" href="#id11"><span class="section-number">3.9.1. </span>概念</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>AWK：报告生成器，格式化文本输出工具</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="s1">&#39;script&#39;</span> <span class="n">file1</span><span class="p">,</span><span class="n">file2</span><span class="o">...</span>
<span class="n">awk</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span> <span class="s1">&#39;PATTERN </span><span class="si">{action}</span><span class="s1">&#39;</span> <span class="n">file1</span><span class="p">,</span><span class="n">file2</span>
</pre></div>
</div>
<ul class="simple">
<li><p>处理机制：一次从文件中读取出来一行，按照特定分隔符对其进行切片（默认空格）</p></li>
<li><p>步骤：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>* 读( Read )：AWK 从输入流（文件、管道或者标准输入）中读入一行然后将其存入内存中。
* 执行(Execute)：对于每一行输入，所有的 AWK 命令按顺执行。 默认情况下，AWK 命令是针对于每一行输入，但是我们可以将其限制在指定的模式中。
* 重复（Repeate）：一直重复上述两个过程直到文件结束。
</pre></div>
</div>
<ul class="simple">
<li><p>程序结构：</p></li>
<li><p>开始块（BEGIN BLOCK）：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>语法：
BEGIN{awk-commands}
开始块就是awk程序启动时执行的代码部分（在处理输入流之前执行），并且在整个过程中只执行一次；一般情况下，我们在开始块中初始化一些变量。BEGIN是awk的关键字，因此必须要大写。【注：开始块部分是可选，即你的awk程序可以没有开始块部分】
</pre></div>
</div>
<ul class="simple">
<li><p>主体块（Body Block）：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>语法：
/pattern/{awk-commands}
针对每一个输入的行都会执行一次主体部分的命令，默认情况下，对于输入的每一行，awk都会执行主体部分的命令，但是我可以使用/pattern/限制其在指定模式下。
</pre></div>
</div>
<ul class="simple">
<li><p>结束块（END BLOCK）：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>语法：
END{awk-commands}
结束块是awk程序结束时执行的代码（在处理完输入流之后执行），END也是awk的关键字，必须大写，与开始块类似，结束块也是可选的。
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>awk 脚本的结构如下：
awk &#39;BEGIN{ print &quot;start&quot; } pattern { commands } END{ print &quot;end&quot; }&#39; file


$ cat users.txt |wc -l
6

# 统计文件行数
$ awk &#39;BEGIN {i=0} {i++} END {print i}&#39; users.txt
6


# 在文本中加上头和尾部输出
$ echo -e &quot;line1\nline2\nline3&quot;| awk &#39;BEGIN {print &quot;Start&quot;} {print } END {print &quot;End&quot;}&#39;
$ echo -e &quot;line1\nline2\nline3&quot;| awk &#39;BEGIN {print &quot;Start&quot;} {print $0} END {print &quot;End&quot;}&#39;
Start
line1
line2
line3
End
</pre></div>
</div>
</section>
<section id="id2">
<h2><a class="toc-backref" href="#id12"><span class="section-number">3.9.2. </span>awk输出</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic simple">
<li><p>print 使用格式</p></li>
</ol>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span> <span class="n">item1</span><span class="p">,</span><span class="n">item2</span><span class="o">...</span>
</pre></div>
</div>
<p><strong>要点:</strong> * 1.各字段之间逗号隔开，输出时以空白字符分割；</p>
<ul class="simple">
<li><p>2.输出的字段可以为字符串或数值，当前记录的字段<code class="docutils literal notranslate"><span class="pre">（如$1）</span></code>、变量或awk的表达式；数值先回转换成字符串然后输出</p></li>
<li><p>3.print命令后面的item可以省略，此时其功能相当于print
$0,如果想输出空白，可以使用<code class="docutils literal notranslate"><span class="pre">print</span> <span class="pre">&quot;&quot;</span></code></p></li>
</ul>
<p>eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>awk -F: &#39;{print $1,$NF}&#39; /etc/passwd|column -t

tail -1 /etc/passwd|awk -F: &#39;BEGIN{OFS=&quot;#&quot;}{print “hello”$1,$2}&#39;

# print能够接受参数，参数以逗号隔开，在打印参数时则以空格作为参数之间的分隔符。
$ echo | awk &#39;{var=&quot;hujianli&quot;;var2=&quot;hujianli2&quot;;var3=&quot;hujianli3&quot;; print var,var2,var3;}&#39;
hujianli hujianli2 hujianli3

# 拼接的使用方法如下：
$ echo | awk &#39;{var=&quot;hujianli&quot;;var2=&quot;hujianli2&quot;;var3=&quot;hujianli3&quot;; print var &quot;-&quot; var2 &quot;-&quot;var3;}&#39;
hujianli-hujianli2-hujianli3

{ } 就像一个循环体，对文件中的每一行进行迭代
</pre></div>
</div>
<blockquote>
<div><p>2.printf</p>
</div></blockquote>
<p>printf命令的使用格式:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">printf</span> <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span> <span class="n">item1</span><span class="p">,</span><span class="n">item2</span><span class="o">...</span>
</pre></div>
</div>
<p><strong>要点：</strong> * 1.其与print命令最大区别,printf
需要指定format,format必须给出</p>
<ul class="simple">
<li><p>2.format用于指定后面的每个item输出格式</p></li>
<li><p>3.printf 语句不会自动打印换行字符:</p></li>
</ul>
<p>format格式的指示符都以%开头，后跟一个字符:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>%c:显示ascall码
%d:%i:十进制整数
%e，%E：科学计数法
%f:浮点数
%s：字符串
%u：无符号整数
%%：显示%自身

修饰符：
#[.#]:第一个#控制显示的宽度：第二个#表示小数点后的精度：

%3.1f

-:左对齐
+：显示数组符号
</pre></div>
</div>
<p>eg：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;{printf &quot;Username:</span><span class="si">%-15s</span><span class="s1">   ,Uid:</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&quot;,$1,$3}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>
</pre></div>
</div>
<blockquote>
<div><p>1.awk 可以使用的一些特殊变量。</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  NR ：表示记录编号，当 awk 将行作为记录时，该变量相当于当前行号。
  NF ：表示字段数量，在处理当前记录时，相当于字段数量。默认的字段分隔符是空格。
  $0 ：该变量包含当前记录的文本内容。
  $1 ：该变量包含第一个字段的文本内容。
  $2 ：该变量包含第二个字段的文本内容



$ echo -e &quot;line1 f2 f3\nline f4 f5\nline3 f6 f7&quot;|\
awk &#39;{print &quot;Line number:&quot;NR &quot;,number of fields:&quot;NF,&quot;$0=&quot;$0,&quot;$1=&quot;$1,&quot;$2=&quot;$2,&quot;$3=&quot;$3}&#39;

Line number:1,number of fields:3 $0=line1 f2 f3 $1=line1 $2=f2 $3=f3
Line number:2,number of fields:3 $0=line f4 f5 $1=line $2=f4 $3=f5
Line number:3,number of fields:3 $0=line3 f6 f7 $1=line3 $2=f6 $3=f7



$ seq 5 | awk &#39;BEGIN { sum=0; print &quot;Summation:&quot; }
&gt; { print $1&quot;+&quot;; sum+=$1 } END { print &quot;==&quot;; print sum }&#39;
Summation:
1+
2+
3+
4+
5+
==
15
</pre></div>
</div>
<blockquote>
<div><p>2.awk 使用外部变量</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ var=hujianli
$ echo | awk -v VAR=$var &#39;{print VAR}&#39;
hujianli

$ var1=&quot;hujianli01&quot;;var2=&quot;hujianli02&quot;
$ echo | awk &#39;{print v1,v2}&#39; v1=$var1 v2=$var2
hujianli01 hujianli02
</pre></div>
</div>
<blockquote>
<div><p>3,用 getline 读取行</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ seq 5| awk &#39;BEGIN { getline; print &quot;Read ahead first line&quot;, $0 }&#39;&#39;{print $0}&#39;
Read ahead first line 1
2
3
4
5
</pre></div>
</div>
<blockquote>
<div><p>4.使用过了模式对awk处理的行进行过滤</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>我们可以为需要处理的行指定一些条件：
$ awk &#39;NR &lt; 5&#39; #  行号小于5 的行
$ awk &#39;NR==1,NR==4&#39; #  行号在1 到5 之间的行
$ awk &#39;/linux/&#39; #  包含模式为linux 的行（可以用正则表达式来指定模式）
$ awk &#39;!/linux/&#39; #  不包含模式为linux
</pre></div>
</div>
<blockquote>
<div><p>5.设置字段分隔符</p>
</div></blockquote>
<p>设置字段分隔符 默认的字段分隔符是空格。我们也可以用选项 -F
指定不同的分隔符：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ awk -F: &#39;{ print $NF }&#39; /etc/passwd
或者
awk &#39;BEGIN { FS=&quot;:&quot; } { print $NF }&#39; /etc/passwd
</pre></div>
</div>
<blockquote>
<div><p>6.从awk中读取命令输出</p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>从 awk 中读取命令输出
awk 可以调用命令并读取输出。把命令放入引号中，然后利用管道将命令输出传入 getline ：
&quot;command&quot; | getline output ;

下面的代码从/etc/passwd文件中读入一行，然后显示出用户登录名及其主目录。在 BEGIN 语
句块中将字段分隔符设置为 : ，在主语句块中调用了 grep 。

$ awk &#39;BEGIN {FS=&quot;:&quot;} { &quot;grep root /etc/passwd&quot; | getline; print $1,$6 }&#39;
root /root
</pre></div>
</div>
</section>
<section id="id3">
<h2><a class="toc-backref" href="#id13"><span class="section-number">3.9.3. </span>awk变量</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>awk内置变量之记录变量：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>+ FS:field separator，输入字段分隔符（默认空白）
+ OFS:output field separator，输出字段分隔符
+ RS:Record separator:输入文本换行符（默认回车）

+ ORS:输出文本换行符
</pre></div>
</div>
<ul class="simple">
<li><p>awk内置变量之数据变量</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>+ NR:the number of input records,awk命令所处理的文件的行数，如果有多个文件，这个数目会将处理的多个文件计数
+ NF:number of field,当前记录的field个数

{print NF},{print $NF}


* ARGV:数组，保存命令行本身这个字符串，

* ARGC：awk命令的参数个数

* FILENAME:awk命令处理的文件名称

* ENVIRON：当前shell环境变量及其值的关联数组

awk &#39;BEGIN{print ENVIRON[&quot;PATH&quot;]}&#39;
</pre></div>
</div>
<ul class="simple">
<li><p>自定义变量 <code class="docutils literal notranslate"><span class="pre">-v</span> <span class="pre">var=value</span></code></p></li>
</ul>
<p>变量名区分大小写</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="o">-</span><span class="n">v</span> <span class="n">test</span><span class="o">=</span><span class="s2">&quot;abc&quot;</span> <span class="s1">&#39;BEGIN{print test}&#39;</span>

<span class="n">awk</span> <span class="s1">&#39;BEGIN{var=&quot;name&quot;;print var}&#39;</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id14"><span class="section-number">3.9.4. </span>操作符</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>算术运算</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+</span><span class="p">,</span><span class="o">-</span><span class="p">,</span><span class="o">*</span><span class="p">,</span><span class="o">/</span><span class="p">,</span><span class="o">^</span><span class="p">,</span><span class="o">%</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">awk</span> <span class="pre">'BEGIN{a=5;b=3;print</span> <span class="pre">&quot;a</span> <span class="pre">+</span> <span class="pre">b</span> <span class="pre">=&quot;,a+b}'</span></code></p>
<ul class="simple">
<li><p>字符串操作</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>无符号操作符，表示字符串连接
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;BEGIN { str1=&quot;Hello,&quot;; str2=&quot;World&quot;; str3 = str1 str2; print str3 }&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>赋值操作符</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>=，+=，-=，*=，/=，%=，^=
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;BEGIN{a=5;b=6;if(a == b) print &quot;a == b&quot;;else print &quot;$a!=b&quot;}&#39;</span>
<span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;{sum+=$3}END{print sum}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>
</pre></div>
</div>
<ul class="simple">
<li><p>比较操作符：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> \<span class="o">&gt;</span><span class="p">,</span><span class="o">&gt;=</span><span class="p">,</span><span class="o">&lt;</span><span class="p">,</span><span class="o">&lt;=</span><span class="p">,</span><span class="o">!=</span><span class="p">,</span><span class="o">==</span>
</pre></div>
</div>
<ul class="simple">
<li><p>模式匹配符：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>* ~:是否匹配
* !~:是否不匹配
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;$1~&quot;root&quot;{print $0}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>
</pre></div>
</div>
<ul class="simple">
<li><p>逻辑操作符：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>* &amp;&amp; 、 || 、 ！
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;BEGIN{a=6;if(a &gt; 0 &amp;&amp; a &lt;= 6) print &quot;true&quot;;else print &quot;false&quot;}&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>函数调用：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    * function_name(argu1,augu2)
* 条件表达式(三元运算):
    * selection？if-true-expresssion：if-false-expression

awk -F: &#39;{$3&gt;=100?usertype=&quot;common user&quot;:usertype=&quot;sysadmin&quot;;printf &quot;%15s:%s\n&quot;,$1,usertype}&#39; /etc/passwd
</pre></div>
</div>
</section>
<section id="pattern">
<h2><a class="toc-backref" href="#id15"><span class="section-number">3.9.5. </span>Pattern</a><a class="headerlink" href="#pattern" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>empty:空模式，匹配每一行</p></li>
<li><p>/regular expression/:仅处理能被此处模式匹配到的行</p></li>
<li><p>relational
expression：关系表达式，结果为“真”有“假”，结果为“真”才会被处理,注意：使用模式需要使用双斜线括起来</p>
<ul>
<li><p>真：结果为非0值，非空字符串</p></li>
</ul>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;$3&gt;100{print $1,$3}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>

<span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;$NF==&quot;/bin/bash&quot;{printf &quot;</span><span class="si">%15s</span><span class="s1">,</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&quot;,$NF,$1}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>

<span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;$NF~/bash$/{printf &quot;</span><span class="si">%15s</span><span class="s1">,</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&quot;,$NF,$1}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>

<span class="n">df</span> <span class="o">-</span><span class="n">Th</span><span class="o">|</span><span class="n">awk</span> <span class="s1">&#39;/^\/dev/</span><span class="si">{print}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>line ranges：行范围，制定startline，endline</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;/10/,/20/{print $1}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>
<span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;(NR&gt;2&amp;&amp;NR&lt;=10){print $1}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>
</pre></div>
</div>
<ul class="simple">
<li><p>BEGIN/END模式</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>* BEGIN{}：仅在开始处理中的文本之前执行一次
* END{}:仅在文本处理完成之后执行一次
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;BEGIN{print &quot;username     uid</span><span class="se">\n</span><span class="s1">--------------------&quot;}{printf &quot;</span><span class="si">%-15s</span><span class="s1">:</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&quot;,$1,$3}END{print &quot;-----------------</span><span class="se">\n</span><span class="s1">e</span>
<span class="n">nd</span><span class="s2">&quot;}&#39; /etc/passwd</span>
</pre></div>
</div>
</section>
<section id="action">
<h2><a class="toc-backref" href="#id16"><span class="section-number">3.9.6. </span>常用action</a><a class="headerlink" href="#action" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Expression</p></li>
<li><p>Control statements</p>
<ul>
<li><p>if/while</p></li>
</ul>
</li>
<li><p>Compound statements</p></li>
<li><p>input statements</p></li>
<li><p>output statements</p></li>
</ul>
<section id="id5">
<h3><a class="toc-backref" href="#id17">控制语句</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>if(condition) {statements}</p></li>
<li><p>if(condition) {statments} [else {statments}]</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;{if($3&gt;100) print $1,$3}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>

<span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;{if($3&gt;100) {printf &quot;Common user:</span><span class="si">%-15s</span><span class="se">\n</span><span class="s1">&quot;,$1} else {printf &quot;sysadmin user:</span><span class="si">%-15s</span><span class="se">\n</span><span class="s1">&quot;,$1}}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>

<span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;{if($NF==&quot;/bin/bash&quot;) print $1,$NF}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">passwd</span>

<span class="n">awk</span> <span class="o">-</span><span class="n">F</span><span class="p">:</span> <span class="s1">&#39;{if($NF&gt;7) print}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span>
</pre></div>
</div>
<ul class="simple">
<li><p>while(conditon) {statments}</p></li>
<li><p>条件为“真”，进入循环，条件为“假”，退出循环</p></li>
<li><p>使用场景：对一行内的多个字段逐一类似处理时使用，对数组内的各元素逐一进行处理时使用</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;/^[[:space:]]*if/{i=1;while(i&lt;=NF) {print $i,length($i);i++}}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">functions</span>

<span class="n">awk</span> <span class="s1">&#39;/^[[:space:]]*if/{i=1;while(i&lt;NF) {if(length($i)&gt;7) {print $i,length($i)};i++}}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">functions</span>
</pre></div>
</div>
<ul class="simple">
<li><p>do {statements} while(condition)</p>
<ul>
<li><p>意义：至少执行一次循环体</p></li>
</ul>
</li>
<li><p>for(expr1;expr2;expr3) {statements}</p>
<ul>
<li><p>语法：for(variable assignment;condition;iteration process)
{for-body}</p></li>
<li><p>特殊用法：能够遍历数组中的元素，<code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">(var</span> <span class="pre">in</span> <span class="pre">array)</span> <span class="pre">{for-body}</span></code></p></li>
</ul>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;/^[[:space:]]*if/{for(i=1;i&lt;NF;i++) {print $i,length($i)}}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">functions</span>

<span class="n">awk</span> <span class="s1">&#39;/^[[:space:]]*if/{for(i=1;i&lt;NF;i++) {if(length($i)&gt;7) print $i,length($i)}}&#39;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">functions</span>
</pre></div>
</div>
<ul class="simple">
<li><p>break</p></li>
<li><p>continue</p></li>
<li><p>delete array[index]</p></li>
<li><p>switch语句</p>
<ul>
<li><p>语法：switch(expression) {case VALUE1 or /REGEXP/: statement; case
VALUE2 VALUE2 or /EXGEXP2/: statement;…;default: statement}</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="array">
<h2><a class="toc-backref" href="#id18"><span class="section-number">3.9.7. </span>array</a><a class="headerlink" href="#array" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>关联数组：</p></li>
<li><p>array[index-expression]</p></li>
<li><p>index-pression:</p>
<ul>
<li><p>任意字符串</p></li>
<li><p>如果某数组元素事先不存在，引用时候，awk自动创建此元素，并将其值初始化为空串，若要判断数组中是否存在某元素，需要使用<code class="docutils literal notranslate"><span class="pre">index</span> <span class="pre">in</span> <span class="pre">array</span></code>格式进行</p></li>
</ul>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;BEGIN{weekdays[&quot;mon&quot;]=&quot;Monday&quot;;weekdays[&quot;tue&quot;]=&quot;Tuesday&quot;;print weekdays[&quot;tue&quot;]}&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>遍历数组使用for循环</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">for(var</span> <span class="pre">in</span> <span class="pre">array)</span> <span class="pre">{do-body}</span></code></p></li>
</ul>
</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;BEGIN{weekdays[&quot;mon&quot;]=&quot;Monday&quot;;weekdays[&quot;tue&quot;]=&quot;Tuesday&quot;;for(i in weekdays) print weekdays[i]}&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>注意：var会遍历array的每个索引：</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">netstat</span> <span class="o">-</span><span class="n">tan</span><span class="o">|</span><span class="n">awk</span> <span class="s1">&#39;/^tcp/{state[$NF]++}END{for(i in state) print i,state[i]}&#39;</span>

<span class="n">awk</span> <span class="s1">&#39;{ips[$1]++}END{for(i in ips){printf &quot;</span><span class="si">%-5d</span><span class="s1">,</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&quot;,ips[i],i}}&#39;</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">httpd</span><span class="o">/</span><span class="n">access_log</span><span class="o">-</span><span class="mi">20180916</span> <span class="o">|</span><span class="n">sort</span> <span class="o">-</span><span class="n">k1</span> <span class="o">-</span><span class="n">nr</span>
</pre></div>
</div>
</section>
<section id="id6">
<h2><a class="toc-backref" href="#id19"><span class="section-number">3.9.8. </span>函数</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>内置函数</p>
<ul>
<li><p>数值处理：</p></li>
</ul>
</li>
</ul>
<p>rand():返回0和1之间的一个随机数</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;BEGIN{print rand()}&#39;</span>
</pre></div>
</div>
<ul>
<li><p>字符串处理：</p>
<p>length([s]):返回制定字符串的长度</p>
<p>sub(r,s,[t])：以r表示的模式来查找t所表示的字符串中匹配到的内容，并将其第一次出现替换为s所表示的那日</p>
</li>
<li><p>eg</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>awk &#39;/Tom/&#39; file               # 打印匹配到得行
awk &#39;/^Tom/{print $1}&#39;         # 匹配Tom开头的行 打印第一个字段
awk &#39;$1 !~ /ly$/&#39;              # 显示所有第一个字段不是以ly结尾的行
awk &#39;$3 &lt;40&#39;                   # 如果第三个字段值小于40才打印
awk &#39;$4==90{print $5}&#39;         # 取出第四列等于90的第五列
awk &#39;/^(no|so)/&#39; test          # 打印所有以模式no或so开头的行
awk &#39;$3 * $4 &gt; 500&#39;            # 算术运算(第三个字段和第四个字段乘积大于500则显示)
awk &#39;{print NR&quot; &quot;$0}&#39;          # 加行号
awk &#39;/tom/,/suz/&#39;              # 打印tom到suz之间的行
awk &#39;{a+=$1}END{print a}&#39;      # 列求和
awk &#39;sum+=$1{print sum}&#39;       # 将$1的值叠加后赋给sum
awk &#39;{a+=$1}END{print a/NR}&#39;   # 列求平均值
awk &#39;!s[$1 $3]++&#39; file         # 根据第一列和第三列过滤重复行
awk -F&#39;[ :\t]&#39; &#39;{print $1,$2}&#39;           # 以空格、:、制表符Tab为分隔符
awk &#39;{print &quot;&#39;&quot;$a&quot;&#39;&quot;,&quot;&#39;&quot;$b&quot;&#39;&quot;}&#39;          # 引用外部变量
awk &#39;{if(NR==52){print;exit}}&#39;           # 显示第52行
awk &#39;/关键字/{a=NR+2}a==NR {print}&#39;      # 取关键字下第几行
awk &#39;gsub(/liu/,&quot;aaaa&quot;,$1){print $0}&#39;    # 只打印匹配替换后的行
ll | awk -F&#39;[ ]+|[ ][ ]+&#39; &#39;/^$/{print $8}&#39;             # 提取时间,空格不固定
awk &#39;{$1=&quot;&quot;;$2=&quot;&quot;;$3=&quot;&quot;;print}&#39;                        # 去掉前三列
echo aada:aba|awk &#39;/d/||/b/{print}&#39;                    # 匹配两内容之一
echo aada:abaa|awk -F: &#39;$1~/d/||$2~/b/{print}&#39;         # 关键列匹配两内容之一
echo Ma asdas|awk &#39;$1~/^[a-Z][a-Z]$/{print }&#39;          # 第一个域匹配正则
echo aada:aaba|awk &#39;/d/&amp;&amp;/b/{print}&#39;                   # 同时匹配两条件
awk &#39;length($1)==&quot;4&quot;{print $1}&#39;                        # 字符串位数
awk &#39;{if($2&gt;3){system (&quot;touch &quot;$1)}}&#39;                  # 执行系统命令
awk &#39;{sub(/Mac/,&quot;Macintosh&quot;,$0);print}&#39;                # 用Macintosh替换Mac
awk &#39;{gsub(/Mac/,&quot;MacIntosh&quot;,$1); print}&#39;              # 第一个域内用Macintosh替换Mac
awk -F &#39;&#39; &#39;{ for(i=1;i&lt;NF+1;i++)a+=$i  ;print a}&#39;      # 多位数算出其每位数的总和.比如 1234， 得到 10
awk &#39;{ i=$1%10;if ( i == 0 ) {print i}}&#39;               # 判断$1是否整除(awk中定义变量引用时不能带 $ )
awk &#39;BEGIN{a=0}{if ($1&gt;a) a=$1 fi}END{print a}&#39;        # 列求最大值  设定一个变量开始为0，遇到比该数大的值，就赋值给该变量，直到结束
awk &#39;BEGIN{a=11111}{if ($1&lt;a) a=$1 fi}END{print a}&#39;    # 求最小值
awk &#39;{if(A)print;A=0}/regexp/{A=1}&#39;                    # 查找字符串并将匹配行的下一行显示出来，但并不显示匹配行
awk &#39;/regexp/{print A}{A=$0}&#39;                          # 查找字符串并将匹配行的上一行显示出来，但并不显示匹配行
awk &#39;{if(!/mysql/)gsub(/1/,&quot;a&quot;);print $0}&#39;             # 将1替换成a，并且只在行中未出现字串mysql的情况下替换
awk &#39;BEGIN{srand();fr=int(100*rand());print fr;}&#39;      # 获取随机数
awk &#39;{if(NR==3)F=1}{if(F){i++;if(i%7==1)print}}&#39;       # 从第3行开始，每7行显示一次
awk &#39;{if(NF&lt;1){print i;i=0} else {i++;print $0}}&#39;      # 显示空行分割各段的行数
echo +null:null  |awk -F: &#39;$1!~&quot;^+&quot;&amp;&amp;$2!=&quot;null&quot;{print $0}&#39;       # 关键列同时匹配
awk -v RS=@ &#39;NF{for(i=1;i&lt;=NF;i++)if($i) printf $i;print &quot;&quot;}&#39;    # 指定记录分隔符
awk &#39;{b[$1]=b[$1]$2}END{for(i in b){print i,b[i]}}&#39;              # 列叠加
awk &#39;{ i=($1%100);if ( $i &gt;= 0 ) {print $0,$i}}&#39;                 # 求余数
awk &#39;{b=a;a=$1; if(NR&gt;1){print a-b}}&#39;                            # 当前行减上一行
awk &#39;{a[NR]=$1}END{for (i=1;i&lt;=NR;i++){print a[i]-a[i-1]}}&#39;      # 当前行减上一行
awk -F: &#39;{name[x++]=$1};END{for(i=0;i&lt;NR;i++)print i,name[i]}&#39;   # END只打印最后的结果,END块里面处理数组内容
awk &#39;{sum2+=$2;count=count+1}END{print sum2,sum2/count}&#39;         # $2的总和  $2总和除个数(平均值)
awk -v a=0 -F &#39;B&#39; &#39;{for (i=1;i&lt;NF;i++){ a=a+length($i)+1;print a  }}&#39;     # 打印所以B的所在位置
awk &#39;BEGIN{ &quot;date&quot; | getline d; split(d,mon) ; print mon[2]}&#39; file        # 将date值赋给d，并将d设置为数组mon，打印mon数组中第2个元素
awk &#39;BEGIN{info=&quot;this is a test2010test!&quot;;print substr(info,4,10);}&#39;      # 截取字符串(substr使用)
awk &#39;BEGIN{info=&quot;this is a test2010test!&quot;;print index(info,&quot;test&quot;)?&quot;ok&quot;:&quot;no found&quot;;}&#39;      # 匹配字符串(index使用)
awk &#39;BEGIN{info=&quot;this is a test2010test!&quot;;print match(info,/[0-9]+/)?&quot;ok&quot;:&quot;no found&quot;;}&#39;    # 正则表达式匹配查找(match使用)
awk &#39;{for(i=1;i&lt;=4;i++)printf $i&quot;&quot;FS; for(y=10;y&lt;=13;y++)  printf $y&quot;&quot;FS;print &quot;&quot;}&#39;        # 打印前4列和后4列
awk &#39;BEGIN{for(n=0;n++&lt;9;){for(i=0;i++&lt;n;)printf i&quot;x&quot;n&quot;=&quot;i*n&quot; &quot;;print &quot;&quot;}}&#39;                # 乘法口诀
awk &#39;BEGIN{info=&quot;this is a test&quot;;split(info,tA,&quot; &quot;);print length(tA);for(k in tA){print k,tA[k];}}&#39;             # 字符串分割(split使用)
awk &#39;{if (system (&quot;grep &quot;$2&quot; tmp/* &gt; /dev/null 2&gt;&amp;1&quot;) == 0 ) {print $1,&quot;Y&quot;} else {print $1,&quot;N&quot;} }&#39; a            # 执行系统命令判断返回状态
awk  &#39;{for(i=1;i&lt;=NF;i++) a[i,NR]=$i}END{for(i=1;i&lt;=NF;i++) {for(j=1;j&lt;=NR;j++) printf a[i,j] &quot; &quot;;print &quot;&quot;}}&#39;   # 将多行转多列
netstat -an|awk -v A=$IP -v B=$PORT &#39;BEGIN{print &quot;Clients\tGuest_ip&quot;}$4~A&quot;:&quot;B{split($5,ip,&quot;:&quot;);a[ip[1]]++}END{for(i in a)print a[i]&quot;\t&quot;i|&quot;sort -nr&quot;}&#39;    # 统计IP连接个数
cat 1.txt|awk -F&quot; # &quot; &#39;{print &quot;insert into user (user,password,email)values(&quot;&quot;&#39;\&#39;&#39;&quot;$1&quot;&#39;\&#39;\,&#39;&quot;&quot;&#39;\&#39;&#39;&quot;$2&quot;&#39;\&#39;\,&#39;&quot;&quot;&#39;\&#39;&#39;&quot;$3&quot;&#39;\&#39;\)\;&#39;&quot;}&#39; &gt;&gt;insert_1.txt     # 处理sql语句
awk &#39;BEGIN{printf &quot;what is your name?&quot;;getline name &lt; &quot;/dev/tty&quot; } $1 ~name {print &quot;FOUND&quot; name &quot; on line &quot;, NR &quot;.&quot;} END{print &quot;see you,&quot; name &quot;.&quot;}&#39; file  # 两文件匹
</pre></div>
</div>
<p>exercises:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>* 统计/etc/fstab文件中每个单词出现的次数，并按从大到小排序
awk &#39;{for(i=1;i&lt;=NF;i++){words[$i]++}}END{for(key in words)print key,words[key]}&#39; /etc/fstab|sort -k2 -nr

awk &#39;{ips[$1]++}END{for(i in ips) print i,ips[i]}&#39; access_nginx.log |column -t|sort -k2 -nr

* 统计/etc/fstab每个文件系统类型出现的次数
awk &#39;!/^#/&amp;&amp;!/^$/{dev[$3]++}END{for(i in dev) print i,dev[i]}&#39; /etc/fstab

* ping一个域名，输出ping此刻的时间
ping baidu.com|awk &#39;{print $0&quot; &quot;strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)}&#39;

* 利用netstat监控服务是否正常监听
netstat -lntup|awk &#39;NR&gt;2{if($4 ~/.*:22/) print $0&quot;yes&quot;;exit 0}&#39;

* 统计web服务器日志状态码
awk &#39;$9~&quot;[0-9]&quot;{stat[$9]++}END{for(i in stat) print i,stat[i]}&#39; access_log
</pre></div>
</div>
</section>
<section id="id7">
<h2><a class="toc-backref" href="#id20"><span class="section-number">3.9.9. </span>awk判断</a><a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;{print ($1&gt;$2)?&quot;第一排&quot;$1:&quot;第二排&quot;$2}&#39;</span>      <span class="c1"># 条件判断 括号代表if语句判断 &quot;?&quot;代表then &quot;:&quot;代表else</span>
<span class="n">awk</span> <span class="s1">&#39;{max=($1&gt;$2)? $1 : $2; print max}&#39;</span>          <span class="c1"># 条件判断 如果$1大于$2,max值为为$1,否则为$2</span>
<span class="n">awk</span> <span class="s1">&#39;{if ( $6 &gt; 50) print $1 &quot; Too high&quot; ;</span><span class="se">\</span>
<span class="s1">else print &quot;Range is OK&quot;}&#39;</span> <span class="n">file</span>
<span class="n">awk</span> <span class="s1">&#39;{if ( $6 &gt; 50) { count++;print $3 } </span><span class="se">\</span>
<span class="s1">else { x+5; print $2 } }&#39;</span> <span class="n">fil</span>
</pre></div>
</div>
</section>
<section id="id8">
<h2><a class="toc-backref" href="#id21"><span class="section-number">3.9.10. </span>awk循环</a><a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">awk</span> <span class="s1">&#39;{i = 1; while ( i &lt;= NF ) { print NF, $i ; i++ } }&#39;</span> <span class="n">file</span>
<span class="n">awk</span> <span class="s1">&#39;{ for ( i = 1; i &lt;= NF; i++ ) print NF,$i }&#39;</span> <span class="n">fi</span>
</pre></div>
</div>
</section>
<section id="id9">
<h2><a class="toc-backref" href="#id22"><span class="section-number">3.9.11. </span>awk练习题</a><a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>wang     4
cui      3
zhao     4
liu      3
liu      3
chang    5
li       2

1 通过第一个域找出字符长度为4的
2 当第二列值大于3时，创建空白文件，文件名为当前行第一个域$1 (touch $1)
3 将文档中 liu 字符串替换为 hong
4 求第二列的和
5 求第二列的平均值
6 求第二列中的最大值
7 将第一列过滤重复后，列出每一项，每一项的出现次数，每一项的大小总和

1、字符串长度
    awk &#39;length($1)==&quot;4&quot;{print $1}&#39;
2、执行系统命令
    awk &#39;{if($2&gt;3){system (&quot;touch &quot;$1)}}&#39;
3、gsub(/r/,&quot;s&quot;,域) 在指定域(默认$0)中用s替代r  (sed &#39;s///g&#39;)
    awk &#39;{gsub(/liu/,&quot;hong&quot;,$1);print $0}&#39; a.txt
4、列求和
    awk &#39;{a+=$2}END{print a}&#39;
5、列求平均值
    awk &#39;{a+=$2}END{print a/NR}&#39;
    awk &#39;{a+=$2;b++}END{print a,a/b}&#39;
6、列求最大值
    awk &#39;BEGIN{a=0}{if($2&gt;a) a=$2 }END{print a}&#39;
7、将第一列过滤重复列出每一项，每一项的出现次数，每一项的大小总和
    awk &#39;{a[$1]++;b[$1]+=$2}END{for(i in a){print i,a[i],b[i]}}\
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># awk</span>
而awk则是基于列的文本处理工具，它的工作方式是按行读取文本并视为一条记录，每条记录以字段分割成若干字段，然后输出各字段的值。

每个非空白的部分叫做“域”，从左到右依次是第一个域、第二个域，等等。<span class="nv">$1</span>、<span class="nv">$2</span>分别用于表示域，<span class="nv">$0</span>则表示全部域。

<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># cat awk.txt</span>
hujianli.wang        male    <span class="m">30</span>   <span class="m">021</span>-1111111
jianli.hu            Female  <span class="m">25</span>   <span class="m">021</span>-222222
jack.chen            Male    <span class="m">35</span>   <span class="m">021</span>-333333
lily.gong           Female   <span class="m">20</span>   <span class="m">021</span>-4444444  shanghai

<span class="c1">## 打印$1和$4的内容</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># awk &#39;{print $1,$4}&#39; awk.txt</span>
hujianli.wang <span class="m">021</span>-1111111
jianli.hu <span class="m">021</span>-222222
jack.chen <span class="m">021</span>-333333
lily.gong <span class="m">021</span>-4444444

<span class="c1">## 打印全部内容</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># awk &#39;{print $0}&#39; awk.txt</span>
hujianli.wang        male    <span class="m">30</span>   <span class="m">021</span>-1111111
jianli.hu            Female  <span class="m">25</span>   <span class="m">021</span>-222222
jack.chen            Male    <span class="m">35</span>   <span class="m">021</span>-333333
lily.gong           Female   <span class="m">20</span>   <span class="m">021</span>-4444444  shanghai

<span class="c1">## 通过-F指定分隔符. 默认分隔符空白字符或者空格</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># awk -F. &#39;{print $1,$2}&#39; awk.txt</span>
hujianli wang        male    <span class="m">30</span>   <span class="m">021</span>-1111111
jianli hu            Female  <span class="m">25</span>   <span class="m">021</span>-222222
jack chen            Male    <span class="m">35</span>   <span class="m">021</span>-333333
lily gong           Female   <span class="m">20</span>   <span class="m">021</span>-4444444  shanghai


<span class="c1">## 内部变量NF，列数</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># awk &#39;{print NF}&#39; awk.txt</span>
<span class="m">4</span>
<span class="m">4</span>
<span class="m">4</span>
<span class="m">5</span>

<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># awk -F. &#39;{print NF}&#39; awk.txt</span>
<span class="m">2</span>
<span class="m">2</span>
<span class="m">2</span>
<span class="m">2</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># cat awk.txt</span>
hujianli.wang        male    <span class="m">30</span>   <span class="m">021</span>-1111111
jianli.hu            Female  <span class="m">25</span>   <span class="m">021</span>-222222
jack.chen            Male    <span class="m">35</span>   <span class="m">021</span>-333333
lily.gong           Female   <span class="m">20</span>   <span class="m">021</span>-4444444  shanghai


<span class="c1">## 打印最后1列的内容</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># awk &#39;{print $NF}&#39; awk.txt</span>
<span class="m">021</span>-1111111
<span class="m">021</span>-222222
<span class="m">021</span>-333333
shanghai

<span class="c1">## 打印倒数第2列内容</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># awk &#39;{print $(NF-1)}&#39; awk.txt</span>
<span class="m">30</span>
<span class="m">25</span>
<span class="m">35</span>
<span class="m">021</span>-4444444


<span class="c1">## 截取字符串</span>
可以使用substr<span class="o">()</span>函数对指定域截取字符串
函数的用法：
substr<span class="o">(</span> 指定域, 第一个开始字符的位置, 第二个结束的位置<span class="o">)</span> <span class="c1"># 其中第二个结束的位置可以为空，这样默认输出到该域的最后一个字符</span>

<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># cat awk.txt</span>
hujianli.wang        male    <span class="m">30</span>   <span class="m">021</span>-1111111
jianli.hu            Female  <span class="m">25</span>   <span class="m">021</span>-222222
jack.chen            Male    <span class="m">35</span>   <span class="m">021</span>-333333
lily.gong           Female   <span class="m">20</span>   <span class="m">021</span>-4444444  shanghai

<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># cat awk.txt | awk &#39;{print substr($1,2)}&#39;</span>
ujianli.wang
ianli.hu
ack.chen
ily.gong


<span class="c1">## 确定字符串的长度</span>
使用内部变量length可以确定字符串的长度
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># cat awk.txt | awk &#39;{print length}&#39;</span>
<span class="m">45</span>
<span class="m">38</span>
<span class="m">44</span>
<span class="m">50</span>

<span class="c1">## 使用awk求列和</span>
求第3个域   年龄总和
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># cat awk.txt | awk &#39;BEGIN{total=0}{total+=$3}END{print total}&#39;</span>
<span class="m">110</span>

求平均年龄，<span class="nv">$NR表示行数总和</span>
<span class="o">[</span>root@localhost ~<span class="o">]</span><span class="c1"># cat awk.txt | awk &#39;BEGIN{total=0}{total+=$3}END{print total/NR}&#39;</span>
<span class="m">27</span>.5
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="08.%E4%B8%89%E5%89%91%E5%AE%A2%E4%B9%8Bsed.html" class="btn btn-neutral float-left" title="3.8. 8 三剑客之sed" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="10.shell%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9D%82%E9%A1%B9.html" class="btn btn-neutral float-right" title="3.10. shell技巧与杂项" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, huxiaojian.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>